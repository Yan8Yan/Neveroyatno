@model Neveroyatno.Models.Test

@{
    ViewData["Title"] = "Пройти тест";
}

<h2>@Model.Name</h2>

<form method="post" asp-action="SubmitTest" asp-route-testId="@Model.Id">
    @foreach (var task in Model.Tasks)
    {
        <div class="form-group">
            <label>@task.Question.Text</label>

            @if (task.Question.Type == QuestionType.SingleChoice)
            {
                foreach (var answer in task.Question.Answers)
                {
                    <div class="form-check">
                        <input type="radio" class="form-check-input" id="answer_@answer.Id" name="answers[@task.Id]" value="@answer.Id" />
                        <label class="form-check-label" for="answer_@answer.Id">@answer.Text</label>
                    </div>
                }
            }
            else if (task.Question.Type == QuestionType.MultipleChoice)
            {
                foreach (var answer in task.Question.Answers)
                {
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="answer_@answer.Id" name="answers[@task.Id]" value="@answer.Id" />
                        <label class="form-check-label" for="answer_@answer.Id">@answer.Text</label>
                    </div>
                }
            }
            else if (task.Question.Type == QuestionType.OpenText)
            {
                <input type="text" class="form-control" name="answers[@task.Id]" />
            }
        </div>
    }

    <button type="submit" class="btn btn-primary">Отправить ответы</button>
</form>
